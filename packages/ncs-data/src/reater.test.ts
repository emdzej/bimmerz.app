import { parseNcsDataFile } from "./reader";

describe("reader", () => {
    describe("parseNcsDataFile", () => {
        it("should parse data file", () => {
            const buffer = Buffer.from([
                // SIG1
                0x07, 0x00, 0x01, 
                0x00, 0x01, 0x00, 0x01, 0x01, 0x01, 0x63, 
                0x65,
                // SIG2
                0x01, 0x00, 0x02, 
                0x02, 
                0x01,
                // ID_NAME
                0x13, 0x00, 0x03,
                0x12, 0x00, 0x50, 0x41, 0x52, 0x5A, 0x55,
                0x57, 0x45, 0x49, 0x53, 0x55, 0x4E, 0x47,
                0x5F, 0x46, 0x53, 0x57, 0x00,
                0x07,
                // DATA_FORMAT
                0x13, 0x00, 0x04,
                0x7B, 0x4C, 0x7D, 0x4C, 0x57, 0x57, 0x7B, 0x42,
                0x7D, 0x28, 0x42, 0x29, 0x7B, 0x42, 0x7D, 0x7B,
                0x42, 0x7D, 0x00,
                0x16,
                // DATA_NAMES
                0x38, 0x00, 0x05,
                0x42, 0x4C, 0x4F, 0x43, 0x4B, 0x4E, 0x52, 0x2C, 
                0x57, 0x4F, 0x52, 0x54, 0x41, 0x44, 0x52, 0x2C, 
                0x42, 0x59, 0x54, 0x45, 0x41, 0x44, 0x52, 0x2C, 
                0x46, 0x53, 0x57, 0x2C, 0x49, 0x4E, 0x44, 0x45, 
                0x58, 0x2C, 0x4D, 0x41, 0x53, 0x4B, 0x45, 0x2C, 
                0x45, 0x49, 0x4E, 0x48, 0x45, 0x49, 0x54, 0x2C, 
                0x49, 0x4E, 0x44, 0x49, 0x56, 0x49, 0x44, 0x00,
                0x1E,
                // DIV
                0x00, 0x00, 0xFF, 0xFF,
                // DATA
                0x10, 
                0x12, 0x00, 0x00, 0x04, 0x00, 0x00, 0x00, 0x01,
                0x00, 0x5F, 0x02, 0x00, 0x01, 0x00, 0xFF, 0x01,
                0x68, 0x00,
                0xCD

            ]);
            const actual = parseNcsDataFile(buffer, console)
        });
    });
});